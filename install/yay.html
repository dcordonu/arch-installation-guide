<!DOCTYPE HTML>
<html lang="es" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Instalar YAY - Guía de instalación de Arch Linux</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Guía en formato libro con las indicaciones para instalar Arch Linux como único sistema operativo.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro/index.html"><strong aria-hidden="true">1.</strong> Introducción</a></li><li class="chapter-item expanded "><a href="../prerequisites/index.html"><strong aria-hidden="true">2.</strong> Prerrequisitos</a></li><li class="chapter-item expanded "><a href="../install/index.html"><strong aria-hidden="true">3.</strong> Instalación</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../install/usb.html"><strong aria-hidden="true">3.1.</strong> Preparación y arranque del USB</a></li><li class="chapter-item expanded "><a href="../install/disco.html"><strong aria-hidden="true">3.2.</strong> Particionar disco</a></li><li class="chapter-item expanded "><a href="../install/particionado.html"><strong aria-hidden="true">3.3.</strong> Formatear y encriptar particiones</a></li><li class="chapter-item expanded "><a href="../install/system.html"><strong aria-hidden="true">3.4.</strong> Instalar el sistema</a></li></ol></li><li class="chapter-item expanded "><a href="../config/index.html"><strong aria-hidden="true">4.</strong> Configurar el sistema</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../config/timezone.html"><strong aria-hidden="true">4.1.</strong> Zona horaria</a></li><li class="chapter-item expanded "><a href="../config/language.html"><strong aria-hidden="true">4.2.</strong> Idioma</a></li><li class="chapter-item expanded "><a href="../config/network.html"><strong aria-hidden="true">4.3.</strong> Red</a></li><li class="chapter-item expanded "><a href="../config/ramdisk.html"><strong aria-hidden="true">4.4.</strong> Disco RAM inicial</a></li><li class="chapter-item expanded "><a href="../config/users.html"><strong aria-hidden="true">4.5.</strong> Usuarios y contraseñas</a></li><li class="chapter-item expanded "><a href="../config/bootloader.html"><strong aria-hidden="true">4.6.</strong> Gestor de arranque</a></li><li class="chapter-item expanded "><a href="../config/microcode.html"><strong aria-hidden="true">4.7.</strong> Microcodes</a></li><li class="chapter-item expanded "><a href="../config/test.html"><strong aria-hidden="true">4.8.</strong> Probar el sistema</a></li><li class="chapter-item expanded "><a href="../install/yay.html" class="active"><strong aria-hidden="true">4.9.</strong> Instalar YAY</a></li></ol></li><li class="chapter-item expanded "><a href="../desktop/index.html"><strong aria-hidden="true">5.</strong> Entorno gráfico</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../desktop/kde.html"><strong aria-hidden="true">5.1.</strong> Entorno de escritorio</a></li><li class="chapter-item expanded "><a href="../desktop/sddm.html"><strong aria-hidden="true">5.2.</strong> Gestor de inicio</a></li><li class="chapter-item expanded "><a href="../desktop/packages.html"><strong aria-hidden="true">5.3.</strong> Paquetes</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Guía de instalación de Arch Linux</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/dcordonu/arch-installation-guide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#yay" id="yay">YAY</a></h1>
<p>En Arch Linux existe un repositorio desde el que se pueden obtener paquetes que son mantenidos por la comunidad de usuarios, conocido como AUR - <a href="https://aur.archlinux.org/">Arch User Repository</a>. A diferencia de los paquetes oficiales, estos requieren que el usuario descargue un <code>PKGBUILD</code> que ejecutará los pasos necesarios para generar el instalable que sí que se instala en el sistema con el comando <code>pacman</code>. Estos pasos incluyen, entre otros:</p>
<ul>
<li>Descarga de código fuente o binarios.</li>
<li>Comprobación MD5 de los recursos descargados.</li>
<li>Instalar dependencias necesarias.</li>
<li>Compilar el código fuente descargado.</li>
<li>Generar el instalable.</li>
</ul>
<p>Una desventaja de este tipo de paquetes es que cuando se actualiza el sistema, no son tenidos en cuenta. Sin embargo, existe una herramienta llamada <a href="https://aur.archlinux.org/packages/yay"><code>yay</code></a> que permite automatizar su instalación y actualización, junto a los paquetes oficiales. Es decir, no es necesario usar <code>pacman</code> si se tiene instalado <code>yay</code>.</p>
<h2><a class="header" href="#instalar-yay" id="instalar-yay">Instalar <code>yay</code></a></h2>
<blockquote>
<p>Algunos de los comandos a emplear no permiten ser ejecutados como <code>root</code>, por lo que antes hay que iniciar sesión con otro usuario.</p>
</blockquote>
<p>Instalar paquetes desde el AUR requiere descargar ciertos paquetes previamente:</p>
<pre><code class="language-bash">sudo pacman -S base-devel --noconfirm
</code></pre>
<blockquote>
<p>En este caso es necesario lanzar el comando mediante <code>sudo</code> al no estar trabajando como usuario <code>root</code>.</p>
</blockquote>
<p>Inicialmente hay que crear una carpeta, descargar el <code>PKGBUILD</code> de <code>yay</code> y extraer el contenido:</p>
<pre><code class="language-bash">mkdir yay
cd yay
curl https://aur.archlinux.org/cgit/aur.git/snapshot/yay.tar.gz --output yay.tar.gz
tar -xf yay.tar.gz --strip-components=1
</code></pre>
<p>El comando <code>makepkg</code> se encarga de generar el binario instalable:</p>
<pre><code class="language-bash">makepkg -s
</code></pre>
<p>Tras finalizar, se habrá creado un fichero instalable mediante <code>pacman</code> en la ruta donde se ha ejecutado el comando anterior, de extensión <code>pkg.tar.zst</code>.</p>
<p><img src="../images/makepkg.png" alt="Ficheros generados por el comando makepkg" /></p>
<p>La estructura es idéntica a la de los paquetes oficiales, pero hay que tener en cuenta que al ser mantenidos por usuarios que no forman parte del equipo oficial de Arch Linux, es posible que en algún momento alguno de estos paquetes deje de ser actualizado hasta que otro usuario asuma su mantenimiento. Mientras eso ocurre, en la página del AUR correspondiente a ese paquete aparecerá como <em>out of date</em>.</p>
<p><img src="../images/out-of-date.png" alt="Paquete del AUR marcado como 'out of date'" /></p>
<blockquote>
<p>Aunque un paquete marcado como <em>out of date</em> puede aún ser instalado y funcionar, es recomendable buscar alternativas para garantizar la estabilidad del sistema.</p>
</blockquote>
<p>Para instalar <code>yay</code>, se emplea <code>pacman</code> con el flag U:</p>
<pre><code class="language-bash">sudo pacman -U yay-10.1.2-1-x86_64.pkg.tar.zst --noconfirm
</code></pre>
<p><img src="../images/yay-install.png" alt="Instalación del paquete yay" /></p>
<p>Finalmente, se puede borrar la carpeta temporal que se ha empleado:</p>
<pre><code class="language-bash">cd ..
rm -rf yay
</code></pre>
<h2><a class="header" href="#gestionar-paquetes-con-yay" id="gestionar-paquetes-con-yay">Gestionar paquetes con yay</a></h2>
<p>Para instalar un paquete con <code>yay</code>, basta con localizarlo en la web del AUR y ejecutar el comando como si se tratara de <code>pacman</code>. Por ejemplo, para el paquete de Skype:</p>
<pre><code class="language-bash">yay -S skypeforlinux-stable-bin
</code></pre>
<p>Para desinstalar un paquete se sigue empleado <code>pacman</code>:</p>
<pre><code class="language-bash">sudo pacman -Rns skypeforlinux-stable-bin
</code></pre>
<blockquote>
<p>Los flags <code>n</code> y <code>s</code> le indican a <code>pacman</code> que borre los paquetes que haya habido que instalar como dependencias del que se está borrando, en caso de que no sean requeridos por ningún otro paquete que haya instalado. Son de uso opcional, pero permiten mantener el sistema más limpio.</p>
</blockquote>
<h2><a class="header" href="#actualización-completa-del-sistema-con-yay" id="actualización-completa-del-sistema-con-yay">Actualización completa del sistema con yay</a></h2>
<p>Dado que <code>yay</code> reemplaza y amplia el alcance de <code>pacman</code>, es posible usarlo para lanzar una actualización completa del sistema, incluyendo tanto paquetes oficiales como del AUR, de manera desatentida:</p>
<pre><code class="language-bash">yay --noremovemake --noconfirm --nocleanmenu --nodiffmenu --noeditmenu --noupgrademenu -Syu
</code></pre>
<p><img src="../images/yay-upgrade.png" alt="Actualización completa y desatendida del sistema usando yay" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../config/test.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../desktop/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../config/test.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../desktop/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
